<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    <title>Tutorial de Shell Script | Lucas Possatti</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content="shell script" />
    
    <meta name="description" content="Neste post eu explico sobre v√°rias estruturas usadas em shell script como: loops, condicionais, pipes, redire√ß√£o, globs, substitui√ß√£o de comandos e mais.">
<meta property="og:type" content="article">
<meta property="og:title" content="Tutorial de Shell Script">
<meta property="og:url" content="http://possatti.com.br/shell-script/index.html">
<meta property="og:site_name" content="Lucas Possatti">
<meta property="og:description" content="Neste post eu explico sobre v√°rias estruturas usadas em shell script como: loops, condicionais, pipes, redire√ß√£o, globs, substitui√ß√£o de comandos e mais.">
<meta property="og:image" content="http://possatti.com.br/images/sh.png">
<meta property="og:updated_time" content="2016-07-12T03:11:51.410Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Tutorial de Shell Script">
<meta name="twitter:description" content="Neste post eu explico sobre v√°rias estruturas usadas em shell script como: loops, condicionais, pipes, redire√ß√£o, globs, substitui√ß√£o de comandos e mais.">
<meta name="twitter:image" content="http://possatti.com.br/images/sh.png">
    

    

    
        <link rel="icon" href="/images/logo-black.png" />
    

    <link rel="stylesheet" href="/vendor/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/vendor/titillium-web/styles.css">
    <link rel="stylesheet" href="/vendor/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/vendor/jquery/2.0.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/vendor/fancybox/jquery.fancybox.css">
    
    
        <link rel="stylesheet" href="/vendor/scrollLoading/style.css">
    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-60892717-1', 'auto');
ga('send', 'pageview');

</script>
    
    

</head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">Home</a>
                                </li>
                            
                                        
                                    
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/about/index.html">Sobre</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Busca"><input type="hidden" name="sitesearch" value="http://possatti.com.br"></form>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    sem categoria
    </h1>
</div>
                        <div class="main-body-content">
                            <article id="post-shell-script" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        Tutorial de Shell Script
        </h1>
    

            </header>
        
        <div class="article-subtitle">
            <a href="/shell-script/" class="article-date">
    <time datetime="2016-06-30T15:41:53.000Z" itemprop="datePublished">30/06/2016</time>
</a>
            
    <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/shell-script/">shell script</a></li></ul>

        </div>
        <div class="article-entry" itemprop="articleBody">
            <p>Neste post vou explicar um pouco de tudo o que eu sei sobre shell script. Eu comecei a usar shell script porque eu queria automatizar algumas tarefas minhas. E meu gosto pela linguagem come√ßou pela minha fascina√ß√£o. Eu lia alguns scripts, mas n√£o entendia nada! Al√©m disso eu percebia o potencial da linguagem, as coisas que eu poderia criar com aquilo.</p>
<p>Shell script √© uma linguagem com uma sintaxe extranh√≠ssima e muito diferente de qualquer outra linguagem que eu conhecia antes. Eu tinha experi√™ncia com linguagens como Python, Java, um pouco de C e outras. E estudando shell script eu aprendi muita coisa que eu n√£o conhecia, e que pode ser aplicado em outras linguagens. Ent√£o depois de estudar, sinto que conhe√ßo mais sobre programa√ß√£o de forma geral. Estudar shell script tamb√©m me permitiu conhecer melhor como funciona a arquitetura de programas e processos do Linux. Antes disso, eu n√£o sabia o que era <code>stdout</code> e <code>stdin</code> por exemplo. E hoje eu percebo que esse √© um conhecimento bem √∫til e que eu n√£o tinha antes.</p>
<p>Apesar da sintaxe estranha, shell script √© uma linguagem forte e capaz de muita coisa. Imagine o seguinte. Em seu computador voc√™ tem programas de todos os tipos. Alguns escritos em C, outros que foram escritos em Python, Java, Perl e etc. Agora imagine utilizar o poder de cada programa desses em coletivo para construir algo maior. √â isso que voc√™ vai fazer. Usando shell script voc√™ ir√° orquestrar chamadas a esses programas, para cumprir um objetivo espec√≠fico. Uau, isso √© poderoso. √â claro que voc√™ pode fazer isso em qualquer linguagem, mas shell script foi feito para isso!</p>
<p>Se voc√™ se interessou at√© aqui, continue lendo. Garanto que voc√™ vai aprender algo interessante. Por√©m, antes de come√ßar, algumas sugest√µes:</p>
<ul>
<li>Se voc√™ nunca aprendeu programa√ß√£o antes, te sugiro fortemente, e <em>enf√°ticamente</em> que voc√™ n√£o comece por shell script. Aprenda Python, C/C++, Java, PHP ou qualquer outra linguagem e depois volte aqui. S√©rio!</li>
<li>E para seguir com o que eu vou explicar aqui, voc√™ deve estar um pouco acostumado a usar o terminal. Do contr√°rio voc√™ vai ter um pouco de dificuldade.</li>
</ul>
<p>Voc√™ ir√° perceber que muitas vezes eu vou ser breve e sucinto em certos assuntos. Principalmente aqueles que voc√™ provavelmente j√° viu em outras linguagens de programa√ß√£o. Outras vezes ser√° porque n√£o tive tempo de expandir e escrever da melhor forma poss√≠vel. Se voc√™ perceber que eu n√£o abordei algo importante, ou se algum dos exemplos est√° errado, ou se tem qualquer outra sugest√£o, por favor, deixe um coment√°rio.</p>
<p>Vamos come√ßar.</p>
<h2 id="Sumario"><a href="#Sumario" class="headerlink" title="Sum√°rio"></a>Sum√°rio</h2><ul>
<li><a href="#Diferentes-Shells">Diferentes Shells</a></li>
<li><a href="#Hello-World">Hello World</a></li>
<li><a href="#O-basico">O b√°sico</a><ul>
<li><a href="#Shebang">Shebang (#!)</a></li>
<li><a href="#Comandos-uteis">Comandos √∫teis</a></li>
<li><a href="#Manuais">Manuais</a></li>
<li><a href="#Wildcards-Globs">Wildcards (Globs)</a></li>
</ul>
</li>
<li><a href="#Variaveis">Vari√°veis</a></li>
<li><a href="#Substituicao-de-comandos">Substitui√ß√£o de comandos</a></li>
<li><a href="#Condicionais">Condicionais</a></li>
<li><a href="#Switch-case">Switch case</a></li>
<li><a href="#Loops">Loops</a><ul>
<li><a href="#For">For</a></li>
<li><a href="#While">While</a></li>
</ul>
</li>
<li><a href="#Argumentos">Argumentos</a></li>
<li><a href="#Pipe-e-redirecao">Pipe e redire√ß√£o</a></li>
<li><a href="#Funcoes">Fun√ß√µes</a></li>
<li><a href="#Matematica">Matem√°tica</a></li>
<li><a href="#Manipulacao-de-texto">Manipula√ß√£o de texto</a></li>
<li><a href="#Conclusao">Conclus√£o</a></li>
</ul>
<h2 id="Diferentes-Shells"><a href="#Diferentes-Shells" class="headerlink" title="Diferentes Shells"></a>Diferentes Shells</h2><p>Existem muitas <a href="https://en.wikipedia.org/wiki/Unix_shell" target="_blank" rel="external">Shells</a> diferentes. Muitas mesmo! E cada uma delas tem uma linguagem de script diferente. Apesar disso a maioria das Shells apresentam algum n√≠vel de compatibilidade com a <a href="https://en.wikipedia.org/wiki/Bourne_shell" target="_blank" rel="external">Bourne Shell</a> (<code>sh</code>), que foi uma das primeiras a existir. Algumas das Shells mais usadas s√£o:</p>
<ul>
<li>sh (<a href="https://en.wikipedia.org/wiki/Bourne_shell" target="_blank" rel="external">Bourne shell</a>)</li>
<li>bash (<a href="https://en.wikipedia.org/wiki/Bash_(Unix_shell)" target="_blank" rel="external">Bourne-Again shell</a>)</li>
<li>dash (<a href="https://en.wikipedia.org/wiki/Almquist_shell" target="_blank" rel="external">Debian Almquist shell</a>)</li>
<li>fish (<a href="https://en.wikipedia.org/wiki/Friendly_interactive_shell" target="_blank" rel="external">friendly interactive shell</a>. minha favorita)</li>
<li>zsh (<a href="https://en.wikipedia.org/wiki/Z_shell" target="_blank" rel="external">Z shell</a>. Muita gente gosta dessa para usar no dia-a-dia)</li>
<li>ksh (<a href="https://en.wikipedia.org/wiki/Korn_shell" target="_blank" rel="external">Korn shell</a>)</li>
<li>csh (<a href="https://en.wikipedia.org/wiki/C_shell" target="_blank" rel="external">C shell</a>)</li>
<li>‚Ä¶ ad infinitum.</li>
</ul>
<p>A Shell mais popular provavelmente √© o Bash. Se voc√™ usa Ubuntu e n√£o sabe qual √© a sua Shell, ela provavelmente √© o Bash. Ainda assim, algumas pessoas preferem outras Shells para usar interativamente. Eu prefiro o Fish, por exemplo, e conhe√ßo muitas pessoas que preferem utilizar o Zsh.</p>
<p>Apesar de todas as varia√ß√µes, a maioria delas possuem um subconjunto de opera√ß√µes e de sint√°xe iguais ao do <code>sh</code>. Por isso vou ensinar <code>sh</code> puro aqui. Varia√ß√µes como o <code>bash</code> adicionam algumas coisas legais √† linguagem, mas que n√£o s√£o compat√≠veis com as outras shells. Se voc√™ se restringir a <code>sh</code> puro, seu c√≥digo vai funcionar na maioria das outras shells. (N√£o todas. O <code>fish</code>, por exemplo, n√£o √© compat√≠vel. J√° sofri muito com isso. T.T)</p>
<p>No Ubuntu, quando voc√™ usa o <code>sh</code>, na verdade voc√™ est√° usando o <code>dash</code>. Mas‚Ä¶ Whatever. O <code>dash</code> foi feito apenas para ser um vers√£o mais r√°pida e leve da Bourne Shell, e √© totalmente compat√≠vel com a Bourne shell (at√© onde eu sei).</p>
<h2 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h2><p>Se voc√™ nunca mexeu com shell script antes, me acompanhe para fazer um Hello World. Abra o terminal (<code>Ctrl+Shift+T</code>), e use seu editor de texto favorito para criar um novo arquivo arquivo de texto. Aqui eu vou usar o <code>nano</code>.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nano script.sh  <span class="comment"># Nano √© um editor de texto, use qualquer um que voc√™ prefira</span></span><br></pre></td></tr></table></figure>
<p>Usando seu editor de texto, digite o seguinte c√≥digo:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="built_in">echo</span> Hello World</span><br></pre></td></tr></table></figure>
<p>A primeira linha √© um shebang (<code>#!</code>) e identifica o tipo de script que estamos criando, vou explicar melhor sobre o shebang depois. E na segunda linha, <code>echo</code> ir√° imprimir ‚ÄúHello World‚Äù. Agora, salve e feche o editor de texto. (No <code>nano</code> voc√™ usa <code>Ctrl+O</code> (letra √ì) para salvar, e <code>Ctrl+X</code> para sair.) Depois, digite o comando seguinte no mesmo terminal e voc√™ ver√° o <code>Hello World</code>:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sh script.sh</span><br><span class="line">Hello world</span><br></pre></td></tr></table></figure>
<p><em>Voil√†</em>! Agora voc√™ j√° sabe como criar e executar um shell script. Voc√™ j√° pode pegar seu certificado de ‚ÄúShell Script Noob‚Äù na recep√ß√£o e ir embora, ou continuar com o resto do guia para ganhar o certificado de ‚ÄúShell Script Master‚Äù. ;)</p>
<h2 id="O-basico"><a href="#O-basico" class="headerlink" title="O b√°sico"></a>O b√°sico</h2><p>No seu uso mais b√°sico, shell script √© usado para executar um comando ap√≥s o outro. Igual que voc√™ estivesse usando o terminal, e digitando um comando ap√≥s o outro. Mas colocando esses comandos em um script, voc√™ pode automatizar suas tarefas.</p>
<p>Por exemplo, depois de formatar meu computador eu tenho <a href="https://github.com/possatti/my-setup-scripts" target="_blank" rel="external">v√°rios scripts</a> que instalam algumas coisas que eu costumo usar no dia-a-dia, exemplo:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line">sudo apt-get -y install git</span><br><span class="line">sudo apt-get -y install python-pip</span><br><span class="line">sudo apt-get -y install fish</span><br><span class="line">sudo apt-get -y install guake</span><br><span class="line">sudo apt-get -y install htop</span><br><span class="line">sudo apt-get -y install tree</span><br><span class="line">sudo apt-get -y install transmission</span><br><span class="line">sudo apt-get -y install texlive-latex-base</span><br></pre></td></tr></table></figure>
<p>Quando eu executar o script acima, todos esses programas ser√£o instalados pelo <code>apt-get</code>. Isso me poupa o trabalho de ter que me lembrar e de ter que digitar manualmente cada um desses comandos.</p>
<p>Voc√™ tamb√©m pode executar mais de um comando na mesma linha, separando os comandos por <code>;</code>. O <code>;</code> √© opcional no final de uma linha.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> -n <span class="string">"Hello"</span>; <span class="built_in">echo</span> -n <span class="string">"World"</span>; <span class="built_in">echo</span> <span class="string">"!"</span>;</span><br></pre></td></tr></table></figure>
<p>E a indenta√ß√£o tamb√©m n√£o importa.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> -n <span class="string">"Hello"</span></span><br><span class="line">	<span class="built_in">echo</span> -n <span class="string">"World"</span></span><br><span class="line">		<span class="built_in">echo</span> -n <span class="string">"!"</span></span><br></pre></td></tr></table></figure>
<p>Mas, por favor, indente seu c√≥digo de forma intuitiva e organizada. N√£o √© s√≥ porque voc√™ est√° usando a linguagem mais feia j√° inventada que voc√™ precisa escrever o c√≥digo mais feio j√° inventado.</p>
<h3 id="Shebang"><a href="#Shebang" class="headerlink" title="Shebang (#!)"></a>Shebang (#!)</h3><p>No linux, √© muito comum voc√™ colocar um <a href="https://pt.wikipedia.org/wiki/Shebang" target="_blank" rel="external">shebang</a> (<code>#!</code>) na primeira linha de um script. Ele serve para que seu computador identifique qual programa roda aquele script. Ele s√≥ funciona se for a primeira linha do arquivo. Aqui est√£o alguns exemplos:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">#!/usr/bin/python</span><br><span class="line">#!/usr/bin/ruby</span><br><span class="line">#!/bin/bash</span><br><span class="line">#!/usr/bin/perl</span><br></pre></td></tr></table></figure>
<p>Agora voc√™ j√° percebeu que ele toma o formato <code>#!</code> + <code>&lt;execut√°vel&gt;</code>. Sendo que o execut√°vel √© o programa que vai rodar o seu script. Se voc√™ n√£o colocar um shebang no seu script, voc√™ vai precisar de executar ele da seguinte forma:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sh script.sh</span><br></pre></td></tr></table></figure>
<p>Se voc√™ colocar o devido shebang voc√™ pode fazer:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ chmod +x script.sh <span class="comment"># Apenas da primeira vez, para transformar o arquivo em execut√°vel</span></span><br><span class="line">$ ./script.sh <span class="comment"># Se voc√™ estiver no mesmo diret√≥rio que o script</span></span><br><span class="line">$ script.sh <span class="comment"># Se o script estiver no seu $PATH</span></span><br></pre></td></tr></table></figure>
<p>Eu costumo colocar o shebang e rodar o script com <code>sh script.sh</code> mesmo, porque ficar fazendo <code>chmod +x</code> para cada script que eu crio √© muito enjoado. Mas √© uma boa pr√°tica colocar o shebang, ent√£o n√£o deixe de colocar.</p>
<h3 id="Comandos-uteis"><a href="#Comandos-uteis" class="headerlink" title="Comandos √∫teis"></a>Comandos √∫teis</h3><p>Alguns comandos voc√™ ir√° usar com mais frequ√™ncia do que outros. √â importante que voc√™ saiba que alguns deles existam, para consult√°-los quando voc√™ precisar. Alguns deles s√£o:</p>
<ul>
<li><code>ls</code>: Lista os arquivos do diret√≥rio atual.</li>
<li><code>cd</code>: Troca o diret√≥rio atual.</li>
<li><code>rm</code>: Apaga um arquivo ou diret√≥rio.</li>
<li><code>mv</code>: Move um arquivo ou diret√≥rio.</li>
<li><code>cp</code>: Copia um arquivo ou diret√≥rio.</li>
<li><code>echo</code>: Escreve um texto na tela.</li>
<li><code>test</code>: Veremos na parte de condicionais.</li>
<li><code>grep</code>: Imprime linhas que correspondem √† um padr√£o.</li>
<li><code>sed</code>: Modifica e filtra texto.</li>
<li><code>tr</code>: Troca ou deleta caracteres.</li>
<li><code>read</code>: L√™ um texto digitado pelo usu√°rio e salva numa vari√°vel.</li>
<li><code>pwd</code>: Imprime o diret√≥rio local.</li>
<li><code>find</code>: Busca arquivos.</li>
</ul>
<h3 id="Manuais"><a href="#Manuais" class="headerlink" title="Manuais"></a>Manuais</h3><p>Quando voc√™ tiver d√∫vida sobre como um comando funciona, ou qual a sua interface, voc√™ deveria consultar sua p√°gina no manual: <code>man &lt;comando&gt;</code>. Por exemplo, estou com d√∫vida no <code>ls</code>, ent√£o eu digito <code>man ls</code>.</p>
<p><strong>Voc√™ deve se acostumar a ler os manuais</strong>. Acostume-se a encontrar os subcomandos existentes e as op√ß√µes (e.g. <code>--opcao</code>) que voc√™ precisa. E busque compreender mais ou menos a se√ß√£o <code>SYNOPSIS</code> das p√°ginas dos manuais.</p>
<p>E tenha em mente que as p√°ginas dos manuais podem ser diferentes dependendo da shell que voc√™ est√° usando. A maioria dos programas √© a mesma coisa, por√©m alguns comandos como <code>read</code>, por exemplo, podem funcionar um pouco diferente dependendo da Shell. Eu uso o <code>fish</code> di√°riamente, e, quando estou fazendo um script, vez ou outra, tenho que entrar no <code>bash</code> s√≥ para consultar o manual de algum comando. Isso j√° me deu dor de cabe√ßa algumas vezes. Se voc√™ usa o <code>bash</code>, voc√™ n√£o deve ter muitos problemas com isso, mas fica esperto.</p>
<h3 id="Wildcards-Globs"><a href="#Wildcards-Globs" class="headerlink" title="Wildcards (Globs)"></a>Wildcards (Globs)</h3><p><a href="https://en.wikipedia.org/wiki/Glob_%28programming%29" target="_blank" rel="external"><em>Globs</em></a> s√£o um tipo de <a href="https://en.wikipedia.org/wiki/Wildcard_character" target="_blank" rel="external"><em>Wildcard</em></a>, e s√£o usados para selecionar arquivos em sistemas Unix. S√£o caracteres que representam uma sequ√™ncia gen√©rica de caracteres. <code>?</code> representa qualquer caractere. E <code>*</code>, qualquer quantidade de qualquer caractere.</p>
<p>Vamos supor que voc√™ tem um diret√≥rio com os seguintes arquivos: <code>script.pl</code>, <code>script.sh</code>, <code>script.pl</code>, <code>script.test.sh</code>, <code>test.c</code> e <code>test.java</code>. Se voc√™ entrar nesse diret√≥rio e usar o comando <code>rm test.*</code>, voc√™ ir√° remover os arquivos <code>test.c</code> e <code>test.java</code>, mas os outros arquivos ficar√£o intactos.</p>
<p>Isso funciona por uma expans√£o que ocorre antes mesmo do programa ser executado. No caso anterior, <code>rm test.*</code> ser√° expandido para <code>rm test.c test.java</code>, e ent√£o o programa √© invocado com estes dois argumentos.</p>
<p>Outro exemplo. Se usamos o comando <code>mv *.txt textfiles/</code> moveremos todos os arquivos com a extens√£o <code>.txt</code> para o diret√≥rio <code>textfiles/</code>.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rm script.*  <span class="comment"># Apaga arquivos tipo: 'script.py', 'script.sh', 'script.pl', e etc.</span></span><br><span class="line">rm <span class="string">"script.*"</span>  <span class="comment"># Globs n√£o funcionam dentro de aspas.</span></span><br><span class="line">rm <span class="variable">$HOME</span>/fotos/viagem/*-2015-01-??.jpg  <span class="comment"># Remove as fotos de janeiro de 2015.</span></span><br><span class="line">rm <span class="variable">$HOME</span>/fotos/viagem/*.jpg  <span class="comment"># Remove todas as fotos da viagem.</span></span><br></pre></td></tr></table></figure>
<p><em>Globs</em> s√£o muito √∫teis, e voc√™ deveria aprender a usar bem, pelo menos, o <code>*</code>.</p>
<h2 id="Variaveis"><a href="#Variaveis" class="headerlink" title="Vari√°veis"></a>Vari√°veis</h2><p>Chega daquelas discuss√µes sobre o que √© melhor: tipagem forte, ou tipagem fraca. Ao contr√°rio da maioria das linguagens de programa√ß√£o, em que voc√™ tem v√°rios tipos de vari√°veis (integer, string, boolean, etc), em shell script voc√™ tem apenas um tipo de vari√°vel‚Ä¶ Strings!</p>
<p>Criar uma vari√°vel √© bem simples:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">variavel=<span class="string">"Conte√∫do da vari√°vel"</span></span><br></pre></td></tr></table></figure>
<p><strong>Importante:</strong> n√£o coloque espa√ßos ao redor do <code>=</code>; n√£o comece com n√∫meros; n√£o use h√≠fen <code>-</code>; n√£o use caracteres especiais como <code>√ß</code>, <code>√°</code>, <code>ÁÅ´ÁÅΩ</code> e nem emojis <code>üòÄ</code>, <code>üòÇ</code>.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># N√£o use nomes que nem esses:</span></span><br><span class="line">98bottles=<span class="string">"98"</span>  <span class="comment"># N√£o comece com n√∫meros.</span></span><br><span class="line">bad-variable=<span class="string">"crap"</span>  <span class="comment"># N√£o use h√≠fen '-'.</span></span><br><span class="line">erro = <span class="string">"erro"</span>  <span class="comment"># N√£o coloque espa√ßos ao redor do '='.</span></span><br><span class="line">ma√ß√£=<span class="string">"maca"</span>  <span class="comment"># N√£o use caracteres especiais nos nomes.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Use nomes que nem esses:</span></span><br><span class="line">bottles_n_98=98  <span class="comment"># As aspas s√£o opcionais quando o conte√∫do da vari√°vel n√£o cont√©m espa√ßos.</span></span><br><span class="line">good_variable=<span class="string">"(y)"</span>  <span class="comment"># Use underline '_' como alternativa para o h√≠fen '-'.</span></span><br><span class="line">CamelCase=<span class="string">"Camelo"</span>  <span class="comment"># Mau gosto, por√©m √© permitido.</span></span><br><span class="line">maca=ma√ß√£-ÁÅ´ÁÅΩ-üòÄ  <span class="comment"># No conte√∫do voc√™ pode usar caracteres especiais. üëç</span></span><br></pre></td></tr></table></figure>
<p>Agora, na hora de usar as vari√°veis √© que tem uma pegadinha. Voc√™ deve usar <code>$</code> para acessar o valor de qualquer vari√°vel. Ent√£o a vari√°vel <code>fruta=ma√ß√£</code> deve ser acessada como <code>$fruta</code>.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">texto=<span class="string">"Hello World"</span></span><br><span class="line"><span class="built_in">echo</span> texto  <span class="comment"># Pegadinha. Vai imprimir "texto".</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$texto</span>  <span class="comment"># Vai imprimir "Hello World".</span></span><br></pre></td></tr></table></figure>
<p>Quando voc√™ estiver escrevendo strings, voc√™ pode usar <code>&#39;</code> ou <code>&quot;</code>. Usando <code>&quot;</code> o valor das vari√°veis s√£o colocados no lugar dos seus nomes. Usando <code>&#39;</code> o nome d√° vari√°vel fica do jeito que est√° na string. O <code>&#39;</code> ignora a exist√™ncia de vari√°veis.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">'$HOME'</span>  <span class="comment"># Imprime: $HOME</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$HOME</span>"</span>  <span class="comment"># Imprime, ex: /home/possatti</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"A home do usu√°rio '<span class="variable">$USER</span>' √© '<span class="variable">$HOME</span>'"</span> <span class="comment"># ex: A home do usu√°rio 'possatti' √© '/home/possatti'</span></span><br></pre></td></tr></table></figure>
<p>Para ler uma vari√°vel do <code>stdin</code> (mais tarde eu explico sobre <em>File Descriptors</em>), ou seja, algum valor que o usu√°rio tenha digitado, use o comando <code>read</code>. Exemplo:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> -n <span class="string">"Digite seu nome: "</span></span><br><span class="line"><span class="built_in">read</span> nome</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"Ol√°, <span class="variable">$nome</span>!"</span></span><br></pre></td></tr></table></figure>
<p>Al√©m das vari√°veis que voc√™ cria dentro do script, j√° existem algumas prontas para voc√™ usar. N√≥s chamamos elas de vari√°veis de ambiente (environment variables). Voc√™ pode abrir um terminal, digitar <code>$</code> e apertar tab duas vezes, e uma lista de vari√°veis vai aparecer para voc√™. Algumas das mais √∫teis s√£o: <code>$HOME</code>, <code>$HOSTNAME</code>, <code>$LANG</code>, <code>$RANDOM</code>, <code>$PWD</code>, <code>$PATH</code>, <code>$SHELL</code>, <code>$USER</code>, <code>$USERNAME</code>.</p>
<p>Voc√™ tamb√©m pode passar vari√°veis de ambiente tempor√°rias para um script, invocando ele como <code>VARIAVEL1=whatever VARIAVEL2=whatever ./script.sh</code>.</p>
<p>Tamb√©m √© uma conven√ß√£o usar nomes de vari√°veis em letras mai√∫sculas. E geralmente √© uma √≥tima ideia seguir as conven√ß√µes. Mas voc√™ vai perceber que eu n√£o t√¥ nem a√≠ pra essa conven√ß√£o especificamente‚Ä¶ kkk. Isso porque eu acho que escrever o nome das minhas vari√°veis em min√∫sculo diferencia elas melhor das vari√°veis de ambiente.</p>
<h2 id="Substituicao-de-comandos"><a href="#Substituicao-de-comandos" class="headerlink" title="Substitui√ß√£o de comandos"></a>Substitui√ß√£o de comandos</h2><p>As vezes √© √∫til guardarmos a sa√≠da de algum programa. Ao inv√©s de imprimir na tela, gostar√≠amos de pegar esse valor e, por exemplo, guardar em uma vari√°vel. Para isso, usamos <a href="https://en.wikipedia.org/wiki/Command_substitution" target="_blank" rel="external">substitui√ß√£o de comandos</a>: <code>$(prog)</code>, ou <code>&#x0060;prog&#x0060;</code>. At√© onde eu sei, n√£o h√° diferen√ßa entre as duas formas. Eu, particularmente, prefiro o segundo.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> `<span class="built_in">pwd</span>`  <span class="comment"># Imprime o diret√≥rio atual</span></span><br><span class="line"><span class="built_in">echo</span> $(<span class="built_in">pwd</span>)  <span class="comment"># Imprime o diret√≥rio atual</span></span><br><span class="line">arquivos_de_texto=$(ls *.txt)</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$arquivos_de_texto</span>  <span class="comment"># Imprime todos os "txt" do diret√≥rio atual</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"2 + 2 = <span class="variable">$(expr 2 + 2)</span>"</span>  <span class="comment"># Imprime '2 + 2 = 4'</span></span><br></pre></td></tr></table></figure>
<h2 id="Condicionais"><a href="#Condicionais" class="headerlink" title="Condicionais"></a>Condicionais</h2><p>Esse √© o <code>if</code> mais feio que voc√™ provavelmente vai escrever na sua vida. Mas vamos nessa.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span><br><span class="line"></span></span><br><span class="line"><span class="built_in">echo</span> -n <span class="string">"Digite sua idade: "</span></span><br><span class="line"><span class="built_in">read</span> idade</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$idade</span> <span class="_">-lt</span> 18 ]; <span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">"Voc√™ √© menor de idade."</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">"Voc√™ √© maior de idade."</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<p>Eu avisei.</p>
<p>No script acima, o usu√°rio digita sua idade. Se ele tiver menos que 18 anos, imprimimos que ele √© menor de idade. Caso contr√°rio, imprimimos que ele √© maior de idade.</p>
<p>Note que os espa√ßos entre <code>[</code> e <code>]</code> s√£o necess√°rios. <strong>N√£o</strong> use <code>[$idade -lt 18]</code>, use <code>[ $idade -lt 18 ]</code>. Se voc√™ n√£o colocar os espa√ßos, voc√™ ter√° um erro.</p>
<p>Agora vamos olhar como esse <code>if</code> funciona de verdade. Na Bourne Shell, quando escrevemos <code>[ $idade -lt 18 ]</code>, isso √© a mesma coisa que <code>test $idade -lt 18</code>. Na verdade, verdade verdadeira, ele usa um comando para avaliar a nossa express√£o. Os valores <code>$idade</code>, <code>-lt</code> e <code>18</code> est√£o sendo passados como argumentos para o programa <code>test</code>, e ele vai avaliar a express√£o. Se a express√£o for verdadeira, <code>test</code> termina a execu√ß√£o com o valor <code>0</code> (<code>exit 0</code>). Se a express√£o for falsa, ele termina com um valor diferente (geralmente <code>1</code>).</p>
<p>Agora que voc√™ j√° sabe que o comando <code>test</code> est√° sendo usado, voc√™ j√° pode consultar o manual para saber que tipos de condi√ß√µes voc√™ pode construir: <code>man test</code>. O <code>test</code> pode realizar v√°rios tipos de compara√ß√µes, aqui est√£o algumas opera√ß√µes poss√≠veis.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">test</span> 42 <span class="_">-eq</span> 42 <span class="comment"># eq: equal = os inteiros s√£o iguais</span></span><br><span class="line"><span class="built_in">test</span> 3 <span class="_">-gt</span> 2 <span class="comment"># gt: greater-than = maior-qu√™</span></span><br><span class="line"><span class="built_in">test</span> 3 -ge 2 <span class="comment"># ge: greater-than or equal = maior ou igual</span></span><br><span class="line"><span class="built_in">test</span> 2 <span class="_">-lt</span> 3 <span class="comment"># lt: less-than = menor-qu√™</span></span><br><span class="line"><span class="built_in">test</span> 2 -le 3 <span class="comment"># le: less-than or equal = menor ou igual</span></span><br><span class="line"><span class="built_in">test</span> 0 <span class="_">-ne</span> 1 <span class="comment"># ne: not-equal = os inteiros n√£o s√£o iguais</span></span><br><span class="line"><span class="built_in">test</span> -n <span class="string">"Texto"</span>  <span class="comment"># n: String tem mais que zero caracteres</span></span><br><span class="line"><span class="built_in">test</span> -z <span class="string">""</span>  <span class="comment"># z: String tem zero car√°cteres</span></span><br><span class="line"><span class="built_in">test</span> <span class="string">"Goiaba"</span> == <span class="string">"Goiaba"</span> <span class="comment"># ==: As Strings s√£o iguais</span></span><br><span class="line"><span class="built_in">test</span> <span class="string">"Goiaba"</span> != <span class="string">"Mam√£o"</span> <span class="comment"># ==: As Strings s√£o diferentes</span></span><br><span class="line"><span class="built_in">test</span> <span class="_">-d</span> <span class="string">"/home"</span>  <span class="comment"># Verifica se o diret√≥rio existe</span></span><br><span class="line"><span class="built_in">test</span> <span class="_">-f</span> saci-perer√™.txt  <span class="comment"># f: Arquivo existe</span></span><br></pre></td></tr></table></figure>
<p>Podemos reescrever o condicional do c√≥digo anterior usando o <code>test</code> explicitamente. D√° na mesma coisa:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="built_in">test</span> <span class="variable">$idade</span> <span class="_">-lt</span> 18; <span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">"Voc√™ √© menor de idade."</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">"Voc√™ √© maior de idade."</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<p>Todo comando que √© executado retorna algum valor. Se tudo ocorreu bem, retorna <code>0</code>. Se deu algum erro, retorna <code>1</code> ou outro valor. Em shell script, <code>0</code> significa verdadeiro, e os outros valores significam falso. E como eu disse, todo comando retorna um valor para a shell, inclusive o seu script! Voc√™ usa <code>exit</code> para especificar que valor deve ser retornado. Se voc√™ n√£o especificar, o retorno do √∫ltimo comando do seu script ser√° usado.</p>
<p>E existe uma vari√°vel especial, chamada <code>$?</code> que guarda o retorno do √∫ltimo comando executado. Pode ser √∫til, √†s vezes.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> rm saci-perer√™.txt; <span class="keyword">then</span> <span class="built_in">echo</span> <span class="string">"Saci foi apagado."</span>; <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">test</span> <span class="_">-f</span> saci-perer√™.txt  <span class="comment"># Testa se o arquivo existe.</span></span><br><span class="line"><span class="keyword">if</span> [ $? <span class="_">-eq</span> 0 ]; <span class="keyword">then</span>  <span class="comment"># O valor do comando anterior (test) entra no lugar de '$?'.</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">"Saci ainda existe!"</span></span><br><span class="line">	<span class="built_in">exit</span> 1  <span class="comment"># Sa√≠mos com erro, porque o Saci n√£o devia mais existir.</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	<span class="built_in">exit</span> 0  <span class="comment"># Saci deixou de existir. Sucesso!</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="Switch-case"><a href="#Switch-case" class="headerlink" title="Switch case"></a>Switch case</h2><p>Outra estrutura com uma sintaxe curiosa. Se voc√™ achava o <code>if</code> estranho, √© melhor se sentar. Surpreendentemente ele √© mais √∫til do que parece, pela forma como ele trata as strings. Voc√™ pode usar wildcards (<code>*</code> e <code>?</code>) para enriquecer as express√µes usadas no switch.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span><br><span class="line"></span></span><br><span class="line"><span class="built_in">echo</span> -n <span class="string">"Em que planeta voc√™ mora? "</span></span><br><span class="line"><span class="built_in">read</span> planeta</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$planeta</span> <span class="keyword">in</span></span><br><span class="line">	<span class="string">"terra"</span>)</span><br><span class="line">		<span class="built_in">echo</span> <span class="string">"Voc√™ √© terr√°queo."</span></span><br><span class="line">		;;</span><br><span class="line"></span><br><span class="line">	<span class="string">"marte"</span>)</span><br><span class="line">		<span class="built_in">echo</span> <span class="string">"Voc√™ √© marciano."</span></span><br><span class="line">		;;</span><br><span class="line">	*)</span><br><span class="line">		<span class="built_in">echo</span> <span class="string">"Voc√™ √© um lixo das gal√°xias! Sorry..."</span></span><br><span class="line">		;;</span><br><span class="line"><span class="keyword">esac</span>  <span class="comment"># "case" ao contr√°rio para fechar o switch</span></span><br></pre></td></tr></table></figure>
<p>Repare que voc√™ fecha o <code>case</code> usando <code>esac</code> (<code>case</code> ao contr√°rio). E n√£o me pergunte porqu√™ voc√™ tem que colocar <code>;;</code> no final de cada caso! Deixo isso como um dever de casa para voc√™. Boa sorte.</p>
<h2 id="Loops"><a href="#Loops" class="headerlink" title="Loops"></a>Loops</h2><p>Temos duas op√ß√µes de loop aqui: <code>while</code> e <code>for</code>. Cada um √© √∫til em uma situa√ß√£o espec√≠fica.</p>
<h3 id="For"><a href="#For" class="headerlink" title="For"></a>For</h3><p>Na sua forma mais simples, voc√™ descrimina uma s√©rie de valores para o <code>for</code>, e a itera√ß√£o acontecer√° em cima desses valores. Veja o exemplo abaixo:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment"># O script ir√° imprimir 'goiaba', 'abacaxi', e 'banana'</span></span><br><span class="line"><span class="comment"># cada um em uma linha separada.</span></span><br><span class="line"><span class="keyword">for</span> fruta <span class="keyword">in</span> goiaba abacaxi banana; <span class="keyword">do</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="variable">$fruta</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>Abaixo est√° um exemplo levemente mais √∫til. O script apagar√° todos os arquivos do diret√≥rio atual, exceto o arquivo <code>critico.txt</code>.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span><br><span class="line"></span></span><br><span class="line"><span class="comment"># Pega todos os "txt" do diret√≥rio local.</span></span><br><span class="line">arquivos_txt=`ls *.txt`</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> arquivo <span class="keyword">in</span> <span class="variable">$arquivos_txt</span>; <span class="keyword">do</span></span><br><span class="line">	<span class="keyword">if</span> [ <span class="variable">$arquivo</span> == <span class="string">"critico.txt"</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">continue</span>  <span class="comment"># Pula 'critico.txt' para que ele n√£o seja apagado</span></span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	rm <span class="variable">$arquivo</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>A vari√°vel <code>$arquivos_txt</code> √© uma string que cont√©m o nome de todos os arquivos <code>.txt</code> do diret√≥rio atual, separados por espa√ßo. O <code>for</code> ir√° quebrar essa string em m√∫ltiplos peda√ßos, separando pelos espa√ßos e pelas quebras de linha (<code>\n</code>). Esses m√∫ltiplos peda√ßos ser√£o passados para a vari√°vel <code>$arquivo</code>, um de cada vez.</p>
<p>Voc√™ tamb√©m pode usar as palavras chaves <code>continue</code> para pular uma itera√ß√£o e continuar do come√ßo, e <code>break</code> para sair do loop.</p>
<p>Quando voc√™ desejar iterar sob uma sequ√™ncia de n√∫meros, voc√™ pode usar o comando <code>seq</code>. Exemplo: <code>seq 3</code> ir√° imprimir <code>1 2 3</code> (separados por <code>\n</code>, na verdade) e <code>seq 0 3</code> ir√° imprimir <code>0 1 2 3</code>. No exemplo abaixo, n√≥s criamos uma sequ√™ncia de 0 √† 10, e elevamos cada um dos n√∫meros ao quadrado, e imprimimos.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> $(seq 0 10); <span class="keyword">do</span></span><br><span class="line">	i_quadrado=$(expr <span class="variable">$i</span> <span class="string">'*'</span> <span class="variable">$i</span>)</span><br><span class="line">	<span class="built_in">echo</span> <span class="string">"<span class="variable">$i</span> ao quadrado √© igual a: <span class="variable">$i_quadrado</span>"</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<h3 id="While"><a href="#While" class="headerlink" title="While"></a>While</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment"># Observa√ß√£o: Fazer um loop para vigiar se um arquivo foi criado</span></span><br><span class="line"><span class="comment"># √© uma das piores coisas que voc√™ pode fazer durante sua exist√™ncia</span></span><br><span class="line"><span class="comment"># na terra. Isso vai usar todo o seu processador. N√£o fa√ßa isso! √â</span></span><br><span class="line"><span class="comment"># s√≥ um exemplo.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> [ ! <span class="_">-f</span> saci-perer√™.txt ]; <span class="keyword">do</span>  <span class="comment"># Enquanto o arquivo *n√£o* existe</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">'Vigiando o Saci ser criado.'</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"Algu√©m criou o Saci!! Apaga o Saci!"</span></span><br><span class="line">rm saci-perer√™.txt</span><br></pre></td></tr></table></figure>
<p>No exemplo, n√≥s constantemente verificamos se o arquivo <code>saci-perer√™.txt</code> existe. Enquanto o arquivo n√£o existir, n√≥s continuamos no loop imprimindo uma mensagem. Assim que o arquivo √© criado, o loop termina, e n√≥s apagamos o arquivo do Saci.</p>
<p>Se voc√™ quiser trollar um amigo que usa Ubuntu, execute o script seguinte no computador dele. Coloque o arquivo em sua <code>$HOME</code> com o nome de <code>dull-boy.sh</code> (o nome √© importante).</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span><br><span class="line"></span></span><br><span class="line"><span class="comment"># N√∫mero de ciclos do while para criar uma nova inst√¢ncia</span></span><br><span class="line"><span class="comment"># do gnome-terminal.</span></span><br><span class="line">ciclos_para_nova_instancia=1000</span><br><span class="line"></span><br><span class="line">ciclos=0</span><br><span class="line"><span class="keyword">while</span> <span class="literal">true</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">"All work and no play makes Jack a dull boy"</span></span><br><span class="line">	<span class="comment"># Incrementa o n√∫mero de ciclos.</span></span><br><span class="line">	ciclos=`expr <span class="variable">$ciclos</span> + 1`</span><br><span class="line">	<span class="comment"># Verifica se chegou o momento de criar uma nova inst√¢ncia.</span></span><br><span class="line">	<span class="keyword">if</span> [ <span class="string">"<span class="variable">$ciclos</span>"</span> <span class="_">-eq</span> <span class="string">"<span class="variable">$ciclos_para_nova_instancia</span>"</span> ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">		<span class="comment"># Cria uma nova inst√¢ncia do gnome-terminal, executando o mesmo script.</span></span><br><span class="line">		gnome-terminal -x sh dull-boy.sh</span><br><span class="line">		<span class="comment"># Reinicia a contagem dos ciclos.</span></span><br><span class="line">		ciclos=0</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>O script ir√° imprimir <code>&quot;All work and no play makes Jack a dull boy&quot;</code> indeterminadamente. E a cada mil itera√ß√µes, ir√° instanciar um novo terminal executando o mesmo script. Ent√£o seguindo uma curva exponencial, em pouco tempo voc√™ ter√° dezenas ou centenas de terminais na tela, todos imprimindo <code>&quot;All work and no play makes Jack a dull boy&quot;</code> ininterruptamente.</p>
<p>Voc√™ pode tentar parar cada script com <code>Ctrl+C</code>. Por√©m chega uma hora que a √∫nica solu√ß√£o razo√°vel √© esperar que o sistema operacional congele os processos, ou, mais f√°cil, reiniciar o computador.</p>
<p>Se voc√™ quiser trollar seu amigo em dobro, coloque uma linha <code>cd $HOME; sh dull-boy.sh</code> no final do arquivo <code>.bashrc</code> (se ele usa o Bash), assim o script ir√° executar toda vez que ele abrir o terminal. Mas cuidado, pois voc√™ pode n√£o ter um amigo depois disso.</p>
<h2 id="Argumentos"><a href="#Argumentos" class="headerlink" title="Argumentos"></a>Argumentos</h2><p>A maioria dos programas de linha de comando recebem e processam argumentos que s√£o passados pelo usu√°rio que est√° invocando o programa.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ comando arg1 arg2 arg3 arg4</span><br></pre></td></tr></table></figure>
<p>E para acessarmos os argumentos, usamos as vari√°veis <code>$1</code>, <code>$2</code>, <code>$3</code> e etc para acessarmos o primeiro argumento, o segundo argumento e da√≠ em diante. <code>$0</code> √© o nome do seu script (at√© que faz sentido, n√©?). E <code>$@</code> representa todos os argumentos juntos e em sequ√™ncia (sem o <code>$0</code>). E <code>$#</code> √© o n√∫mero de argumentos recebidos (tamb√©m sem o <code>$0</code>).</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"\$0: <span class="variable">$0</span>"</span>  <span class="comment"># Imprime o nome do script.</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"\$@: <span class="variable">$@</span>"</span>  <span class="comment"># Imprime todos os argumentos.</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"\$#: <span class="variable">$#</span>"</span>  <span class="comment"># Imprime o n√∫mero de argumentos.</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"\$1 \$2 \$3: <span class="variable">$1</span> <span class="variable">$2</span> <span class="variable">$3</span>"</span>  <span class="comment"># Imprime os primeiros tr√™s argumentos.</span></span><br></pre></td></tr></table></figure>
<p>Se o seu script tiver recebido apenas dois argumentos e voc√™ tentar acessar, digamos, o argumento <code>$3</code>, o <code>$3</code> ser√° substitu√≠do por uma string vazia. Para evitar isso, voc√™ pode testar se <code>$3</code> n√£o √© uma string vazia: <code>test -n &quot;$3&quot;</code> (as aspas s√£o importantes nesse caso).</p>
<p>Quando um argumento tem a forma <code>-e</code> ou <code>--exemplo</code>, ele √© chamado de uma op√ß√£o, e geralmente √©‚Ä¶ opcional na chamada de um programa. Voc√™ usou op√ß√µes este tempo inteiro (<code>echo -n</code>, <code>rm -rf</code>, etc), deve saber como elas funcionam. Mas s√≥ para o caso de voc√™ n√£o saber, vou explicar um pouquinho.</p>
<p>Algumas op√ß√µes s√£o chamadas de forma isolada, como <code>--quiet</code>, e <code>--help</code>, e outras devem ser acompanhadas de um valor como: <code>--garrafas=12</code>, <code>--garrafas 12</code>, <code>-g12</code>. Ou: <code>--arquivo=&quot;file.txt&quot;</code>, <code>--arquivo &quot;file.txt&quot;</code>. As op√ß√µes podem ser usadas, n√£o importa a ordem: <code>cmd --input &quot;i.txt&quot; --output &quot;o.txt&quot;</code> deveria ser a mesma coisa que <code>cmd --output &quot;o.txt&quot; --input &quot;i.txt&quot;</code>. E as op√ß√µes geralmente s√£o misturadas com argumentos: <code>echo &quot;hello&quot; -n</code> (<code>n</code> √© uma op√ß√£o e <code>&quot;hello&quot;</code>, um argumento). E muitas op√ß√µes que s√£o escritas por extenso tamb√©m tem uma forma abreviada, como: <code>--help</code> √© equivalente √† <code>-h</code>; e <code>--quiet</code> √© equivalente √† <code>-q</code>. Quando voc√™ usa a forma abreviada, muitas vezes voc√™ tamb√©m pode aglutinar as formas abreviadas, por exemplo <code>rm -rf</code> √© equivalente √† <code>rm -r -f</code>.</p>
<p>√â claro que nem todos os programas v√£o seguir essas regras para suas interfaces, mas essas s√£o regras que voc√™ vai observar na maioria dos programas de linha de comando. Existem exce√ß√µes, como exemplo, o programa <code>java</code> n√£o t√™m op√ß√µes abreviadas e as op√ß√µes extensas usam um √∫nico h√≠fen, tipo: <code>java -version</code> ou <code>java -help</code>. (Para o caso de d√∫vida, programas feitos em Java podem ter qualquer interface que eles quiserem. Eu s√≥ quis dizer que o execut√°vel <code>java</code> funciona dessa forma.)</p>
<p>E repare que apesar de <code>--arquivo &quot;file.txt&quot;</code> ser uma √∫nica op√ß√£o, na shell eles s√£o visto como dois argumentos separados. Shell script n√£o diferencia argumentos de op√ß√µes por voc√™. Para o shell script, tudo √© argumento.</p>
<p>Se voc√™ quiser iterar sobre todos os argumentos, voc√™ pode usar um <code>for</code> para isso:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="keyword">for</span> arg <span class="keyword">in</span> <span class="variable">$@</span>; <span class="keyword">do</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">"Argumento <span class="variable">$arg</span>."</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>Outra op√ß√£o semelhante √© usar o comando <code>shift</code> juntamente com um <code>while</code>. Quando voc√™ usa <code>shift</code>, o <code>$2</code> ser√° colocado no lugar do <code>$1</code>; o <code>$3</code> no lugar do <code>$2</code>; e assim em diante. Dessa forma voc√™ pode ler o primeiro argumento atrav√©s do <code>$1</code>; fazer um <code>shift</code>, ler o segundo argumento atrav√©s do <code>$1</code>; <code>shift</code>, ler terceiro argumento atrav√©s do <code>$1</code> tamb√©m; e etc.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span><br><span class="line"></span></span><br><span class="line"><span class="comment"># Ir√° imprimir "arg1", "arg2", "arg3", etc.</span></span><br><span class="line"><span class="keyword">while</span> [ -n <span class="string">"<span class="variable">$1</span>"</span> ]; <span class="keyword">do</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">"Argumento <span class="variable">$1</span>."</span></span><br><span class="line">	<span class="built_in">shift</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>Se voc√™ for criar um script que tenha uma interface extensa e complexa, e que precisa diferenciar e tratar argumentos e op√ß√µes, voc√™ ter√° que usar altos recursos <em>imagin√≠sticos</em> para alcan√ßar seus objetivos. H√° algum tempo atr√°s eu tive que fazer isso, e tive sucesso usando um <code>while</code> com um <code>case</code> e o comando <code>shift</code>. Se voc√™ precisar de inspira√ß√£o, consulte o meu reposit√≥rio <a href="https://github.com/possatti/pokemonsay/blob/master/pokemonsay.sh" target="_blank" rel="external">‚Äúpokemonsay‚Äù</a> no Github.</p>
<h2 id="Pipe-e-redirecao"><a href="#Pipe-e-redirecao" class="headerlink" title="Pipe e redire√ß√£o"></a>Pipe e redire√ß√£o</h2><p>Essa √© provavelmente a coisa mais interessante que voc√™ pode fazer em shell script. √â usando <em>Pipes</em> (literalmente, canos, ou tubos) e redire√ß√£o que voc√™ vai conseguir libertar os verdadeiros poderes do shell script.</p>
<p>Antes de falar sobre isso, eu tenho que explicar uma coisa mais b√°sica: <em>File Descriptors</em>. No mundo do Unix e Linux existe o que n√≥s chamamos de <em>‚Äúfile descriptor‚Äù</em>. Qualquer programa t√™m tr√™s <em>file descriptors</em>: Standard Input, Standard Output, e Standard Error. Comumente abreviados: <code>stdin</code>, <code>stdout</code> e <code>stderr</code>. O programa ir√° ler dados do <code>stdin</code>, ir√° escrever em <code>stdout</code>, e ir√° escrever os erros para <code>stderr</code>. Muitas vezes, o texto vindo de <code>stdin</code> ser√° o texto digitado pelo usu√°rio no teclado. Mas muitas outras vezes, esse texto ser√° recebido de forma program√°tica.</p>
<p>Quando usamos pipe <code>|</code>, n√≥s estamos conectando o <code>stdout</code> do comando √† esquerda, com o <code>stdin</code> do comando √† direita. Tamb√©m √© poss√≠vel fazer v√°rios pipes em sequ√™ncia. Voc√™ deve imaginar que o texto est√° fluindo da esquerda para a direita, e que cada comando est√° modificando o texto, ou agindo de alguma forma sobre ele. Vamos √† um exemplo simples:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Imprime "laranja_123" (min√∫sculo)</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"LARANJA_123"</span> | tr <span class="string">'[:upper:]'</span> <span class="string">'[:lower:]'</span></span><br></pre></td></tr></table></figure>
<p>O <code>tr</code> √© um programa que troca alguns caracteres por outros (<code>man tr</code>). Perceba que o <code>echo</code> escreveu o texto em seu <code>stdout</code> (normalmente seria impresso, mas n√£o foi devido ao pipe), e seu <code>stdout</code> foi redirecionado para o <code>stdin</code> de <code>tr</code>.  E o <code>tr</code>, ap√≥s manipular o texto (substituir mai√∫sculas por min√∫sculas), escreveu o resultado em seu <code>stdout</code>, que por sua vez foi impresso na tela.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Imprime "laranja"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"LARANJA_123"</span> | tr <span class="string">'[:upper:]'</span> <span class="string">'[:lower:]'</span> | tr <span class="_">-d</span> <span class="string">'[_0-9]'</span></span><br></pre></td></tr></table></figure>
<p>Mais um pipe agora. Dessa vez, o <code>stdout</code> do primeiro <code>tr</code> n√£o √© impresso, mas √© redirecionado para o <code>stdin</code> do segundo <code>tr</code>. O segundo <code>tr</code> ir√° ler o texto de seu <code>stdin</code>, modific√°-lo (remover os n√∫meros e underline <code>_</code>), e escrever em seu <code>stdout</code>. Como n√£o h√° mais nenhuma redire√ß√£o, seu <code>stdout</code> ser√° impresso.</p>
<p>Tamb√©m podemos fazer redire√ß√µes usando arquivos. <code>&gt;</code> √© usado para redirecionar o <code>stdout</code> para um arquivo, por√©m apaga o conte√∫do do arquivo se ele j√° existir. <code>&gt;&gt;</code> faz o mesmo que <code>&gt;</code>, por√©m n√£o apaga o conte√∫do original do arquivo. Ao final do script abaixo, teremos um arquivo com tr√™s frutas: Caju, Mam√£o e P√™ra.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Escreve "Banana" no arquivo "frutas.txt".</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"Banana"</span> &gt; frutas.txt</span><br><span class="line"><span class="comment"># Apaga o conte√∫do do arquivo inteiro, e depois escreve "Caju" nele.</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"Caju"</span> &gt; frutas.txt</span><br><span class="line"><span class="comment"># Escreve "Mam√£o" no final do arquivo, sem apagar seu conte√∫do.</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"Mam√£o"</span> &gt;&gt; frutas.txt</span><br><span class="line"><span class="comment"># Escreve "P√™ra_123" no final do arquivo, sem apagar seu conte√∫do.</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"P√™ra_123"</span> &gt;&gt; frutas.txt</span><br></pre></td></tr></table></figure>
<p>Equivalente ao <code>&gt;</code> temos o <code>&lt;</code> que faz exatamente o contr√°rio. Ele serve para ‚Äúpuxarmos‚Äù o texto de um arquivo e fornecer como entrada para o <code>stdin</code> de um programa. Exemplo:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Transforma o texto de 'frutas.txt' para mai√∫sculas.</span></span><br><span class="line">tr <span class="string">'[:lower:]'</span> <span class="string">'[:upper:]'</span> &lt; frutas.txt</span><br></pre></td></tr></table></figure>
<p>O texto contido em <code>frutas.txt</code> ser√° direcionado para o <code>stdin</code> de <code>tr</code>, que ir√° modificar o texto e imprimir na tela.</p>
<p>Tamb√©m √© comum usarmos <code>&lt;</code>, <code>&gt;</code> e <code>|</code> tudo junto. √â um pouco dif√≠cil de se acostumar com a leitura. Mas √© algo comum e √∫til. Veja o exemplo abaixo.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Transforma o texto de 'frutas.txt' para mai√∫sculas, remove n√∫meros e '_'</span></span><br><span class="line"><span class="comment"># e grava em 'FRUTAS.TXT'.</span></span><br><span class="line"><span class="comment"># Perceba que nada √© impresso. Pois tudo √© gravado em 'FRUTAS.TXT'.</span></span><br><span class="line">tr <span class="string">'[:lower:]'</span> <span class="string">'[:upper:]'</span> &lt; frutas.txt | tr <span class="_">-d</span> <span class="string">'[_0-9]'</span> &gt; FRUTAS.TXT</span><br></pre></td></tr></table></figure>
<p>P√™ra! (huehue) Se existe <code>&gt;</code> e <code>&gt;&gt;</code>, deve existir tamb√©m <code>&lt;&lt;</code>, j√° que existe <code>&lt;</code>. Sim, senhor. E o nome disso √© <a href="https://en.wikipedia.org/wiki/Here_document" target="_blank" rel="external">‚ÄúHere Document‚Äù</a>. Ao inv√©s de ler de um arquivo (como <code>&lt;</code>) o texto ser√° lido do pr√≥prio script.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">tr <span class="string">'[:lower:]√°√£√ß√≥'</span> <span class="string">'[:upper:]√Å√É√á√ì'</span> &lt;&lt; EOF</span><br><span class="line">O empenho em analisar o aumento <span class="keyword">do</span> di√°logo entre os diferentes</span><br><span class="line">setores produtivos estimula a padroniza√ß√£o dos modos de opera√ß√£o</span><br><span class="line">convencionais.</span><br><span class="line">Desta maneira, o julgamento imparcial das eventualidades cumpre</span><br><span class="line">um papel essencial na formula√ß√£o <span class="keyword">do</span> impacto na agilidade decis√≥ria.</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>
<p>Perceba que depois do <code>&lt;&lt;</code> temos um token (<code>EOF</code>) que abre o texto do <a href="http://www.lerolero.com/" target="_blank" rel="external">lerolero.com</a>, e em seguida o <strong>mesmo token</strong> dever√° ser repetido em sua pr√≥pria linha, para fechar o texto. O texto que est√° entre os dois <code>EOF</code> (<em>end of file</em>, fim de arquivo), ser√° usado como entrada de dados para o <code>tr</code>, que por usa vez imprimir√° o texto inteiro em letras mai√∫sculas. √â comum usarmos a sigla <code>EOF</code> como token, mas pode ser qualquer palavra, como <code>LEROLERO</code>, ou <code>HELLO_WORLD!</code>.</p>
<p>Agora um pequeno exerc√≠cio mental. Tente entender que parte de texto est√° servindo de entrada para qual comando. Boa sorte.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line">sh &lt;&lt; MIND</span><br><span class="line">sh &lt;&lt; BLOWING</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"Mind blowing."</span></span><br><span class="line">BLOWING</span><br><span class="line">MIND</span><br></pre></td></tr></table></figure>
<p>Cada <em>file descriptor</em> tem um n√∫mero associado: <code>stdin</code>, <code>0</code>; <code>stdout</code>, <code>1</code>; e <code>stderr</code>, <code>2</code>. √â comum redirecionarmos o <code>stderr</code> de um programa para o <code>stdout</code> do mesmo programa. Fazemos isso usando <code>2&gt;&amp;1</code>. Isso √© muito √∫til quando temos um programa que escreve coisas importantes para <code>stderr</code>, por√©m n√≥s queremos gravar em um arquivo, por exemplo. Para isso fazemos <code>prog 2&gt;&amp;1 &gt; meu.log</code>. Ou ainda podemos gravar o <code>stdout</code> e o <code>stderr</code> em diferentes arquivos: <code>prog 1&gt; meu.log 2&gt; erros.log</code>.</p>
<p>E se quisermos direcionar o <code>stdout</code> para <code>stderr</code>, usamos <code>1&gt;&amp;2</code>. Voc√™ pode usar isso para escrever em <code>stderr</code> no seu script atrav√©s de <code>echo 1&gt;&amp;2</code>.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"Hello"</span>  <span class="comment"># Imprime atrav√©s do `stdout`</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"World"</span> 1&gt;&amp;2  <span class="comment"># Imprime na tela, por√©m atrav√©s do `stderr`</span></span><br></pre></td></tr></table></figure>
<p>Redire√ß√µes tamb√©m funcionam com estruturas como <code>for</code> e <code>while</code>. Quando voc√™ chega nesse n√≠vel, as coisas podem ficar extremamente confusas. O exemplo abaixo, l√™ as linhas de um arquivo <code>lower.txt</code>, colocando cada uma delas na vari√°vel <code>$linha</code>, que √© ‚Äú<code>echo</code>ada‚Äù para <code>tr</code>, que transforma tudo em mai√∫sculas. Por√©m o <code>stdout</code> de <code>tr</code> vai para um segundo <code>tr</code> que apaga as vogais do texto. E em seguida, o resultado √© escrito em <code>UPPER.txt</code>. Loucura.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span><br><span class="line"></span></span><br><span class="line"><span class="keyword">while</span> <span class="built_in">read</span> linha; <span class="keyword">do</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="variable">$linha</span> | tr <span class="string">'[:lower:]'</span> <span class="string">'[:upper:]'</span></span><br><span class="line"><span class="keyword">done</span> &lt; lower.txt | tr <span class="_">-d</span> <span class="string">'aeiou'</span> &gt; UPPER.txt</span><br></pre></td></tr></table></figure>
<p>Era poss√≠vel escrever o script acima de forma mais simples. Mas eu quis fazer assim, para voc√™ exercitar seu poderoso c√©rebro.</p>
<h2 id="Funcoes"><a href="#Funcoes" class="headerlink" title="Fun√ß√µes"></a>Fun√ß√µes</h2><p>Fun√ß√µes funcionam como mini-scripts contidos no seu script. Elas s√£o declaradas como <code>foo() { ... }</code> e s√£o invocadas como qualquer outro comando: <code>foo arg1 arg2 arg3 ...</code>.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span><br><span class="line"></span></span><br><span class="line"><span class="function"><span class="title">somar</span></span>() &#123;</span><br><span class="line">	<span class="comment"># Soma os dois argumentos recebidos *pela fun√ß√£o*.</span></span><br><span class="line">	expr <span class="variable">$1</span> <span class="string">'+'</span> <span class="variable">$2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Processa todos os argumentos recebidos pelo script</span></span><br><span class="line"><span class="comment"># somando todos eles.</span></span><br><span class="line">resultado=0</span><br><span class="line"><span class="keyword">while</span> [ -n <span class="string">"<span class="variable">$1</span>"</span> ]; <span class="keyword">do</span></span><br><span class="line">	<span class="comment"># Soma o argumento com o resultado atual.</span></span><br><span class="line">	resultado=`somar <span class="variable">$resultado</span> <span class="variable">$1</span>`</span><br><span class="line">	<span class="comment"># Coloca o $2 no lugar do $1; o $3 no lugar do $2; etc.</span></span><br><span class="line">	<span class="built_in">shift</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"Soma total: <span class="variable">$resultado</span>"</span></span><br></pre></td></tr></table></figure>
<p>Perceba que dentro da fun√ß√£o <code>$1</code> e <code>$2</code> s√£o argumentos recebidos <strong>pela fun√ß√£o</strong>, e n√£o pelo script. Do lado de fora da fun√ß√£o, n√≥s estamos usando o <code>$1</code> que √© o primeiro argumento do nosso script. Veja que as duas coisas n√£o se misturam.</p>
<p><strong>Cuidado:</strong> as fun√ß√µes podem alterar vari√°veis do escopo global:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">troll</span></span>() &#123;</span><br><span class="line">	x=2</span><br><span class="line">&#125;</span><br><span class="line">x=1</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$x</span>  <span class="comment"># Imprime '1'</span></span><br><span class="line">troll  <span class="comment"># Muda o valor de 'x'</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$x</span>  <span class="comment"># Imprime '2'</span></span><br></pre></td></tr></table></figure>
<p>Eu acho que isso √© o que tem de mais importante para falar sobre as fun√ß√µes em shell script. Acho que voc√™ deve saber o que fazer a partir daqui. Mas me sinto culpado de n√£o colocar um exemplo um pouco mais complexo. Ent√£o abaixo est√° uma fun√ß√£o que calcula o fatorial de um n√∫mero‚Ä¶</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">fatorial</span></span>() &#123;</span><br><span class="line">	<span class="keyword">if</span> [ <span class="string">"<span class="variable">$1</span>"</span> <span class="_">-gt</span> <span class="string">"1"</span> ]; <span class="keyword">then</span></span><br><span class="line">		i=`expr <span class="variable">$1</span> - 1`</span><br><span class="line">		j=`fatorial <span class="variable">$i</span>`</span><br><span class="line">		k=`expr <span class="variable">$1</span> \* <span class="variable">$j</span>`</span><br><span class="line">		<span class="built_in">echo</span> <span class="variable">$k</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">echo</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Calcula os 5 primeiros fatoriais.</span></span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> `seq 5`; <span class="keyword">do</span></span><br><span class="line">	fatorial <span class="variable">$n</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<h2 id="Matematica"><a href="#Matematica" class="headerlink" title="Matem√°tica"></a>Matem√°tica</h2><p>De vez em quando precisamos fazer uma conta ou outra em shell script. A forma como fazemos isso √© usando qualquer comando que fa√ßa contas. Alguns dos mais √∫teis s√£o <code>expr</code> e <code>bc</code>.</p>
<p>O mais b√°sico √© o <code>expr</code>. Ele serve para fazer contas simples, mas deixa a desejar para contas mais complexas e de n√∫mero flutuante. E ele √© um pouco chato quanto aos espa√ßos. Voc√™ precisa separar cada um dos n√∫meros e operadores, pois eles devem ser recebidos como diferentes argumentos. E voc√™ precisa ter cuidado com o <code>*</code> de multiplica√ß√£o, para que ele n√£o seja interpretado como um wildcard antes mesmo de ser recebido pelo <code>expr</code>, ent√£o use <code>\*</code> ou <code>&#39;*&#39;</code>. O mesmo vale para os par√™nteses, use <code>\( ... \)</code>, ou <code>&#39;(&#39; ... &#39;)&#39;</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">expr 2 + 2  <span class="comment"># "4"</span></span><br><span class="line">expr 2+2  <span class="comment"># "2+2" -- lol</span></span><br><span class="line">expr 2+2 + 2  <span class="comment"># "expr: non-integer argument"</span></span><br><span class="line">expr 2 <span class="string">'*'</span> 3  <span class="comment"># "6"</span></span><br><span class="line">expr 8 \* 0.5 <span class="comment"># "expr: non-integer argument"</span></span><br><span class="line">expr 8 / 4 <span class="comment"># "2"</span></span><br><span class="line">expr 8 / 5 <span class="comment"># "1" -- A divis√£o √© inteira</span></span><br><span class="line">expr \( 3 + 7 \) / \( 1 + 1 \)  <span class="comment"># "5"</span></span><br></pre></td></tr></table></figure>
<p>Como voc√™ pode ver, <code>expr</code> apenas gosta de n√∫meros inteiros. Al√©m disso, express√µes mais complexas ficam extremamente longas, j√° que voc√™ tem que colocar espa√ßos ao redor de tudo.</p>
<p>Para contas um pouco mais complexas, ou quando voc√™ quiser usar n√∫meros decimais, recomendo usar o <code>bc</code>. Por√©m este programa possui outro inconveniente: voc√™ tem que passar as contas para ele por redirecionamento, pois ele n√£o processa contas pelos argumentos. E para contas com muitas casas decimais, use <code>bc -l</code>.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"2 + 2"</span> | bc  <span class="comment"># "4"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"2+2 + 2"</span> | bc  <span class="comment"># "6"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"2*3"</span> | bc  <span class="comment"># "6"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"8 * 0.5"</span> | bc  <span class="comment"># "4.0"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"8 / 4"</span> | bc  <span class="comment"># "2"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"8 / 5"</span> | bc  <span class="comment"># "1"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"8 / 5"</span> | bc <span class="_">-l</span>  <span class="comment"># "1.60000000000000000000"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"(3 + 7) /2"</span> | bc  <span class="comment"># "5"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"2.22 / 1.22 * 0.75"</span> | bc  <span class="comment"># ".75" -- What???</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"2.22 / 1.22 * 0.75"</span> | bc <span class="_">-l</span>  <span class="comment"># "1.36475409836065573770" -- Hmmmm</span></span><br></pre></td></tr></table></figure>
<p>Eu nunca usei muito o <code>bc</code>, mas parece que ele √© capaz de fazer <a href="https://en.wikipedia.org/wiki/Bc_(programming_language)#GNU_bc" target="_blank" rel="external">bem mais</a>. Se voc√™ precisar de express√µes matem√°ticas complexas, d√™ uma olhada na sua documenta√ß√£o com carinho.</p>
<h2 id="Manipulacao-de-texto"><a href="#Manipulacao-de-texto" class="headerlink" title="Manipula√ß√£o de texto"></a>Manipula√ß√£o de texto</h2><p>Umas das coisas mais comuns que voc√™ vai fazer em shell script √© manipular texto. Por isso √© bom que voc√™ saiba fazer isso bem. Minha sugest√£o √© que voc√™ aprenda bem, um dos seguintes programas: <code>sed</code>, <code>awk</code> ou <code>perl</code>. Eu costumo usar o <code>sed</code>. Por√©m, explicar como ele funciona √© um tutorial √† parte. Mas veja algumas coisas b√°sica que voc√™ pode fazer com o <code>sed</code>.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Imprime todo o texto recebido, por√©m substituindo "banana" por "ma√ß√£"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"banana-banana"</span> | sed <span class="string">'s/banana/ma√ß√£/g'</span>  <span class="comment"># "ma√ß√£-ma√ß√£"</span></span><br><span class="line"><span class="comment"># Imprime apenas as linhas que come√ßam com "Erro" ou "erro"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="_">-e</span> <span class="string">"Uva\nErro 1\nP√™ra\nerro2-critico"</span> | sed -nr <span class="string">'/^[Ee]rro/p'</span>  <span class="comment"># "Erro 1\nerro2-critico"</span></span><br><span class="line"><span class="comment"># Formata um n√∫mero de telefone</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'27988882222'</span> | sed -r <span class="string">'s/(.&#123;2&#125;)(.&#123;1&#125;)(.&#123;4&#125;)(.&#123;4&#125;)/(\1) \2 \3-\4/'</span>  <span class="comment"># "(27) 9 8888-2222"</span></span><br><span class="line"><span class="comment"># Pega apenas o nome do arquivo</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"fotos/viagem/familia.jpg"</span> | sed -r <span class="string">'s;.*/([a-Z]+)\..+;\1;'</span>  <span class="comment"># "familia"</span></span><br></pre></td></tr></table></figure>
<p>Infelizmente n√£o tem como eu explicar aqui com detalhes como funciona o <code>sed</code>. Mas, pelo menos, o primeiro exemplo voc√™ deve ter entendido. Eu, pessoalmente, aprendi o que sei de <code>sed</code> (30% do total, talvez) usando uma <a href="http://www.grymoire.com/Unix/Sed.html" target="_blank" rel="external">p√°gina na internet que parecia ter sido feita no per√≠odo jur√°ssico</a>. Sinta-se livre para buscar qualquer fonte que possa te ajudar.</p>
<h2 id="Conclusao"><a href="#Conclusao" class="headerlink" title="Conclus√£o"></a>Conclus√£o</h2><p>Essa √© a despedida. Depois de tudo isso, eu agora espero que voc√™ consiga usar shell script para resolver seus problemas. Se ficou faltando alguma coisa, ou n√£o deu para entender alguma parte, pode postar o seu feedback aqui nos coment√°rios.</p>
<p>√â isso a√≠. Abra√ßo.</p>

        </div>
        <footer class="article-footer">
            



    <a data-url="http://possatti.com.br/shell-script/" data-id="ciqj10652000qu2re0nlkcq4l" class="article-share-link"><i class="fa fa-share"></i>Compartilhar</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>

                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>seguir:</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="google-plus" href="https://plus.google.com/+LucasPossatti" target="_blank">
                        <i class="icon fa fa-google-plus"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/possatti" target="_blank">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="rss" href="/atom.xml" target="_blank">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="linkedin" href="https://www.linkedin.com/in/possatti" target="_blank">
                        <i class="icon fa fa-linkedin"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/leds/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">novos</strong>
        <p class="article-nav-title">
        
            Minha experi√™ncia no LEDS
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/zettajs/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">antigos</strong>
        <p class="article-nav-title">ZettaJS</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                
    <div class="widget-wrap">
        <h3 class="widget-title">recentes</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="http://leds.sr.ifes.edu.br/as-cronicas-de-um-padawan-by-lucas-possatti/" class="thumbnail">
    
    
        <span style="background-image:url(/images/leds.png)" alt="Minha experi√™ncia no LEDS" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="http://leds.sr.ifes.edu.br/as-cronicas-de-um-padawan-by-lucas-possatti/" class="title">Minha experi√™ncia no LEDS</a></p>
                            <p class="item-date"><time datetime="2016-07-12T15:41:53.000Z" itemprop="datePublished">12/07/2016</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/shell-script/" class="thumbnail">
    
    
        <span style="background-image:url(/images/sh.png)" alt="Tutorial de Shell Script" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/shell-script/" class="title">Tutorial de Shell Script</a></p>
                            <p class="item-date"><time datetime="2016-06-30T15:41:53.000Z" itemprop="datePublished">30/06/2016</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/zettajs/" class="thumbnail">
    
    
        <span style="background-image:url(/images/zetta-logo.svg)" alt="ZettaJS" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/zettajs/" class="title">ZettaJS</a></p>
                            <p class="item-date"><time datetime="2015-03-31T04:11:36.000Z" itemprop="datePublished">31/03/2015</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/git-pro-tip-diretorios-vazios/" class="thumbnail">
    
    
        <span style="background-image:url(/images/git-logo.png)" alt="Git Pro Tip: Diret√≥rios vazios" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/git-pro-tip-diretorios-vazios/" class="title">Git Pro Tip: Diret√≥rios vazios</a></p>
                            <p class="item-date"><time datetime="2015-03-26T00:05:29.000Z" itemprop="datePublished">25/03/2015</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/jekyll/" class="thumbnail">
    
    
        <span style="background-image:url(/images/jekyll-logo.png)" alt="Jekyll" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/jekyll/" class="title">Jekyll</a></p>
                            <p class="item-date"><time datetime="2014-08-22T10:27:29.000Z" itemprop="datePublished">22/08/2014</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">arquivos</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">Julho 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">Junho 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">Mar√ßo 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">Agosto 2014</a><span class="archive-list-count">1</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">tags</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/IoT/">IoT</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jekyll/">jekyll</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/protip/">protip</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell-script/">shell script</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/IoT/" style="font-size: 10px;">IoT</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/jekyll/" style="font-size: 10px;">jekyll</a> <a href="/tags/protip/" style="font-size: 10px;">protip</a> <a href="/tags/shell-script/" style="font-size: 10px;">shell script</a>
        </div>
    </div>


            
        
    </div>
</aside>
                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2016 Lucas Possatti</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
            </div>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_shortname = 'possatti';
    
    
    var disqus_url = 'http://possatti.com.br/shell-script/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>



    
        <script src="/vendor/fancybox/jquery.fancybox.pack.js"></script>
    

    
        <script src="/vendor/scrollLoading/jquery.scrollLoading.js"></script>
        <script src="/vendor/scrollLoading/main.js"></script>
    


<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>
